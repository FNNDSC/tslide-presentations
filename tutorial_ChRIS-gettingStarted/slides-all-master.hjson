/*
To create slides from this text file:

Clone the repo:

```
    git clone https://github.org/FNNDSC/tslide-presentations
    cd tslide-presentations
    export ROOT=$PWD
    export REPO=tutorial_ChRIS-gettingStarted
    export HTMLDOCS=/srv/http/slides
    export INPUTDIR=$ROOT/$REPO
    export INPUTFILE=slides-all-master.hjson
    export OUTPUTDIR=$HTMLDOCS/$REPO
```

After edits, run tsmake on it:

```
    cd ~
    git clone https://github.org/FNNDSC/tslide
    cd tslide
    ./tsmake --outputDir $OUTPUTDIR             \
             --inputDir $INPUTDIR               \
             --no-pageSplit                     \
             --slidesFile $INPUTFILE            \
             --slideListGlob "slide-*"          \
             --additionalDirList $INPUTDIR/figs \
             --verbosity 3
```

Finally, run a web server in the repo:

```
    cd $OUTPUTDIR
    python -m http.server 9100
```

*/
title:<tt>Hello, world!</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>
<pre>
_#_font_basic Welcome!



</pre>
</div>

<div class="container">
<pre style="font-size:300%;">
<em style="color: yellow;">   ChRIS tutorial series</em>
Getting Started with <font style="color:white;">ChRIS</font>
</pre>
</div>

<div>
<pre style="font-size:300%;">
<em>Instantiating a <font style="color:white;">ChRIS</font> deployment
with <font style="color: cyan;">miniChRIS-docker</font>
</em>
</pre>
</div>

<div>
<pre style="font-size:150%; line-height: 118%; color: white;">

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ChRIS Developers â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ matrix: #chris:fedora.im                                     â”‚
â”‚ mailto: dev@babymri.org                                      â”‚
â”‚ web:    http://chrisproject.org                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

</pre>

</div>
'''


<slidebreak>
title: <tt>Is this talk somewhere..?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>
<pre style="font-size:300%;">
This tutorial lives here:
</pre>
<pre style="font-size:175%; color: cyan;">
<a style="color: cyan;" href=http://fnndsc.childrens.harvard.edu/ChRIS/tutorial_ChRIS-gettingStarted>
http://fnndsc.childrens.harvard.edu/ChRIS/tutorial_ChRIS-gettingStarted
</a>
</pre>

<pre style="font-size:250%;">
Please use your keyboard arrow keys <font style="color:white;">ğŸ¡„ ğŸ¡†</font> to move backwards/forwards
or jump to the beginning/end <font style="color:white;">ğŸ¡… ğŸ¡‡</font> (also at the top of the screen).

If a slide doesn't "fit" nicely on your monitor, please
use <font style="color: white;">[ctrl]+/-</font> to change the zoom level.

<pre id="typewriter">
<em style="color:yellow;">Sometimes the typing effect used in this show can
get "messed" up, especially if you arrow in and out quickly!
If that happens, don't panic -- just refresh your browser!</em>
</pre>
</pre>
</div>
'''

<slidebreak>
title:<tt>Move along, move along</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<pre style="float:left; width:100%">
_#_font_basic Overview
</pre>

<pre id="typewriter" style="float:left; width 40%; font-size:300%;">

    <font style="color: white;">This tutorial will...</font>

   â–† Show you how to instantiante the core <font style="color:white;">ChRIS</font>
     components on your machine;
   â–† show you how to push additional "plugins" to your
     <font style="color:white;">ChRIS</font> installation.

</pre>


</div>
'''

<slidebreak>
title:<tt>Thanks for the invite! What can I bring...?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<pre style="float:left; width:100%">
_#_font_basic Overview
</pre>

<pre style="float:left; width 40%; font-size:300%;">

    <font style="color: white;">Difficulty level. Ideally, you:</font>

   â–† are at least <font style="color: yellow">upper-level</font> beginner, meaning:
        â–™ basic knowledge using a Terminal
          (commands like <font style="color: purple;">ls</font>, <font style="color: purple;">cd</font>, <font style="color: purple;">mkdir</font>, etc)
        â–™ basic knowledge of directories, files, etc.
   â–† should have a <font style="color: cyan;">GitHub</font> account.
   â–† will need to have the command line <font style="color: purple;">git</font> tool
     installed and accessible.


</pre>

</div>
'''

<slidebreak>
title:<tt>Is that all?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<pre style="float:left; width:100%">
_#_font_basic Overview
</pre>

<pre style="float:left; width 40%; font-size:300%;">

    <font style="color: white;">So this is really for beginners?</font>

   â–† Yes, it is. The <font style="color:yellow;">upper</font>-level means you also ideally:
        â–™ know about <font style="color:purple;">Python</font> and can setup a
          <font style="color:purple;">Python virtual environment</font>.
        â–™ don't worry too much, though -- we will
          show you all the commands, but you might
          need to Google if some aren't installed
          on your computer.

</pre>

</div>
'''


<slidebreak>
title:<tt>Red or white wine? Both? Oh, my!</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<pre style="float:left; width:100%">
_#_font_basic Overview
</pre>

<pre style="float:left; width 40%; font-size:300%;">

    <font style="color: white;">You will also need:</font>

   â–† for <font style="color: cyan;">miniChRIS-docker</font>
        â–™ please make sure <font style="color: cyan;">docker</font> and <font style="color: cyan;">docker-compose</font>
          are installed. Google is your friend here.
        â–™ ideally also we recommend you setup
          <em style="color:yellow;">"sudo-less docker"</em>
          Again, Google is your friend. 
          Maybe even ChatGPT. Or Bard...
          <em style="color: yellow;">How do I setup sudoless docker on ubuntu?</em>


</pre>

</div>
'''


<slidebreak>
title:<tt>Does anyone in your party have dietary restrictions?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<pre style="float:left; width:100%">
_#_font_basic Overview
</pre>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">
<em style="color: red;">Danger, Will Robinson!</em>
</pre>
</span>

<pre id="typewriter" style="font-size:300%;">
   â–† This is important! The <font style="color: white;">ChRIS</font> backend is
     only fully supported on UNIX-based OSes, i.e.
     <font style="color:white">Linux</font> and <font style="color:white;">macOS</font> (maybe <font style="color: white;">FreeBSD</font>).
   â–† <em style="color: yellow;">It does NOT fully work on Windows!</em>

</pre>

</div>
'''

<slidebreak>
title:<tt>Does anyone in your party have dietary restrictions?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<pre style="float:left; width:100%">
_#_font_basic Overview
</pre>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">
<em style="color: red;">Danger, Will Robinson!</em>
</pre>
</span>

<pre id="typewriter" style="font-size:300%;">
   â–† <em style="color: yellow;">ChRIS does NOT fully work on Windows!</em>
        â–™ to save everyone time, please don't try on
          Windows, get stuck, and then ask the dev
          team "help". âœ‹
        â–™ in theory <font style="color: white;">ChRIS</font> <em>could</em> work on Windows... so
        â–™ if you're super motivated to tackle this,
          by all means we welcome your help!

</pre>

</div>
'''

<slidebreak>
title:<tt>t's and c's apply!</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<pre style="float:left; width:100%">
_#_font_basic Overview
</pre>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">
<em style="color: red;">Danger, Will Robinson!</em>
</pre>
</span>

<pre id="typewriter" style="font-size:300%;">
   â–† <em style="color: yellow;">If you are on Windows...</em>
        â–™ By far the best solution is for you to
          repartition your HDD and install some Linux. 
          We recommend <font style="color:white;">Fedora</font>, <font style="color:white;">Ubuntu</font>, <font style="color:white;">arch</font>, etc.
        â–™ You <em>can</em> install Linux in a Virtual Machine; 
          <em>we don't recommend that, especially </em>on low-
	  powered hosts.</em</em>>
        â–™ <font style="color: white;">ChRIS</font> can be pretty resource hungry!

</pre>

</div>
'''



<slidebreak>
title:<tt>Are we there, yet?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">

    <font style="color:white;">At this point, the <em>hardest</em> part is behind us!</font>

</pre>
</span>

<pre id=typewriter style="font-size:200%; color:white";>
<em style = "color: red;"># Now, open your terminal, and at the prompt choose a directory for miniChRIS-docker</em>
<em style = "color: red;"># We'll pull the repository from github into this directory.</em>
~$ <font style="color: green;">cd</font>
~$ <font style="color: green;">mkdir</font> src
~$ <font style="color: green;">cd</font> ~/src
~/src$ <font style="color: green;">git</font> clone <font style="color:purple;">https://github.com/FNNDSC/miniChRIS-docker</font>

</pre>
</div>
'''

<slidebreak>
title:<tt>Are we there, yet?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">

    <font style="color:white;">At this point, the <em>hardest</em> part is behind us!</font>

</pre>
</span>

<pre style="font-size:200%; color:white";>
<em style = "color: red;"># Now, open your terminal, and at the prompt choose a directory for miniChRIS-docker</em>
<em style = "color: red;"># We'll pull the repository from github into this directory.</em>
~$ <font style="color: green;">cd</font>
~$ <font style="color: green;">mkdir</font> src
~$ <font style="color: green;">cd</font> ~/src
~/src$ <font style="color: green;">git</font> clone <font style="color:purple;">https://github.com/FNNDSC/miniChRIS-docker</font>
Cloning into 'miniChRIS-docker'...
remote: Enumerating objects: 726, done.
remote: Counting objects: 100% (139/139), done.
remote: Compressing objects: 100% (36/36), done.
remote: Total 726 (delta 115), reused 115 (delta 102), pack-reused 587
Receiving objects: 100% (726/726), 195.47 KiB | 3.05 MiB/s, done.
Resolving deltas: 100% (423/423), done.

</pre>
</div>
'''

<slidebreak>
title:<tt>Are we there, yet?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">
    <font style="color:white;">Wait, was it that easy?</font>

</pre>
</span>

<pre id=typewriter style="font-size:200%; color:white";>
<em style = "color: red;"># You're so close! Now enter the pulled repo... and simply fire up minichris.sh!</em>
~/src$ <font style="color: green;">cd</font> miniChRIS-docker
~/src/miniChRIS-docker$ <font style="color: green;">./minichris.sh</font>
                                                                                
</pre>
</div>
'''

<slidebreak>
title:<tt>Are we there, yet?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">
    <font style="color:white;">Wait, was it that easy?</font>

</pre>
</span>

<pre style="font-size:200%; color:white";>
<em style = "color: red;"># You're so close! Now enter the pulled repo... and simply fire up minichris.sh!</em>
~/src$ <font style="color: green;">cd</font> miniChRIS-docker
~/src/miniChRIS-docker$ <font style="color: green;">./minichris.sh</font>
<pre id="typewriter">
... stuff... happens...
<font style="color: purple;">
   ________    ____  _________                       __  _     
  / ____/ /_  / __ \/  _/ ___/____  ____ ___  ____ _/ /_(_)____
 / /   / __ \/ /_/ // / \__ \/ __ \/ __ `__ \/ __ `/ __/ / ___/
/ /___/ / / / _, _// / ___/ / /_/ / / / / / / /_/ / /_/ / /__  
\____/_/ /_/_/ |_/___//____/\____/_/ /_/ /_/\__,_/\__/_/\___/  
... ... ...</font>
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Summary: 0 present, 17 changed, 0 failures â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

</pre>
</pre>
</div>
'''



<slidebreak>
title:<tt>Are we there, yet?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">
    <font style="color:white;">Are we done?</font>

</pre>
</span>


<pre id="typewriter" style="float:left; width 100%; font-size:300%;">
   Not entirely. If you are following along, at this stage you have

   â–† instantiated a new <font style="color:white;">ChRIS</font> 
   â–† but not really installed many "apps" or <font style="color:white;">plugins</font>
   

    	<em style="color: purple ;">So let's fix that!"</em>

</pre>

</div>
'''




<slidebreak>
title:<tt>A long time ago in a lab not so far away... (in the Mid West, actually)</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<pre style="float:left; width:100%">
_#_font_basic Roads...
</pre>
</div>

<span style="width:100%; float: left;">
<pre id="typewriter" style="font-size:400%; color: white;">
   Once upon a time... early 2000s
</pre>
</span>

<div>
<pre style="font-size:200%; float:left; width: 100%">
    _#_o_01   â–† PhD in a Machine Learning technique called <em style="color: yellow;">Reinforcement Learning</em>
    _#_o_02   â–† Practically: Control systems, muscle modeling software and...
    _#_o_03   â–† making a human biomechanical simulation "balance"
    _#_o_04   â–† and did I mention?
    _#_o_05   â–† <em style="color:white;">software... lots of... software</em>

</pre>
</div>
'''



<slidebreak>
title:<tt>If a tree falls in the woods...</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%; color: white;">
Let's try running FreeSurfer at the FNNDSC -- old school
</pre>
</span>

<pre style="float:left; width 100%; font-size:200%; color:white;">
   ~$ <font style="color:green;">ssc</font>
   ~$ <font style="color:green;">.</font> neuro-fs stable
    <b style="color: white;">version:  stable
    revision: -system default-
    Host type is x86_64-Linux
    -------- freesurfer-Linux-centos6_x86_64-stable-pub-v5.3.0 --------
    Setting up environment for FreeSurfer/FS-FAST (and FSL)
    FREESURFER_HOME   /neuro/arch/x86_64-Linux/packages/freesurfer/stable
    FSFAST_HOME       /neuro/arch/x86_64-Linux/packages/freesurfer/stable/fsfast
    FSF_OUTPUT_FORMAT nii.gz
    SUBJECTS_DIR      /neuro/users/rudolphpienaar
    MNI_DIR           /neuro/arch/x86_64-Linux/packages/freesurfer/stable/mni
    FSL_DIR           /neuro/arch/x86_64-Linux/packages/fsl/current</b>
</pre>
</div>
'''

<slidebreak>
title:<tt>If a tree falls in the woods...</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%; color: white;">
Let's try running FreeSurfer at the FNNDSC -- old school
</pre>
</span>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">

Now we need to really understand where the data
we want to process "lives" <em style="color: yellow;">and do some
"tricky" CLI magic...</em>

</pre>
</span>

<pre id="typewriter" style="float:left; width 100%; font-size:200%; color:white;">
    <em style="color: red;"># For example, assuming you have a "data" directory off your home...</em>
    ~$ <font style="color: green;">cd</font> ~/data
    ~$ <font style="color: yellow;">export</font> SUBJECTS_DIR=$PWD
    <em style="color: red;"># and assuming a directory within that called SAG-anon...</em>
    ~$ <b style="color:white;">recon-all -all -sd $SUBJECTS_DIR -s SAG-anon -notalairach</b>

</pre>

</div>
'''

<slidebreak>
title:<tt>If a tree falls in the woods...</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left; color: white;">
<pre style="font-size:300%;">
Let's try running FreeSurfer at the FNNDSC -- with apptainer!
</pre>
</span>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">

Now, let's use apptainer instead and run FreeSurfer.


</pre>
</span>

<pre id="typewriter" style="float:left; width 100%; font-size:200%; color:white;">
    <em style="color: red;"># For example, assuming you have a "data" directory off your home...</em>
    ~$ <font style="color: green;">cd</font> ~/data
    ~$ <font style="color: yellow;">export</font> SUBJECTS_DIR=$PWD
    <em style="color: red;"># and assuming a directory within that called SAG-anon...</em>
    ~$ <b style = "color: white;">FREESURFER_HOME=/usr/local/freesurfer freesurfer.sif \
       recon-all -all -sd $SUBJECTS_DIR -s SAG-anon -notalairach</b>
</pre>

</div>
'''

<slidebreak>
title:<tt>If a tree falls in the woods...</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%; color: white">
FreeSurfer -- old and new
</pre>
</span>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">On the metal</pre>
</span>

<pre style="float:left; width 100%; font-size:200%; color:white;">
    <em style="color: red;"># For example, assuming you have a "data" directory off your home...</em>
    ~$ <font style="color: green;">cd</font> ~/data
    ~$ <font style="color: yellow;">export</font> SUBJECTS_DIR=$PWD
    <em style="color: red;"># and assuming a directory within that called SAG-anon...</em>
    ~$ <b style = "color: white;">recon-all -all -sd $SUBJECTS_DIR -s SAG-anon -notalairach</b>
</pre>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">Apptainer!</pre>
</span>

<pre style="float:left; width 100%; font-size:200%; color:white;">
    <em style="color: red;"># For example, assuming you have a "data" directory off your home...</em>
    ~$ <font style="color: green;">cd</font> ~/data
    ~$ <font style="color: yellow;">export</font> SUBJECTS_DIR=$PWD
    <em style="color: red;"># and assuming a directory within that called SAG-anon...</em>
    ~$ <b style = "color: white;">FREESURFER_HOME=/usr/local/freesurfer freesurfer.sif \
       recon-all -all -sd $SUBJECTS_DIR -s SAG-anon -notalairach</b>
</pre>


</div>
'''

<slidebreak>
title:<tt>OK... this related to ChRIS, how?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">
So let's anonymize some data!
</pre>
</span>

<pre id="typewriter" style="float:left; width 100%; font-size:200%;">
        â–† We'll use a ChRIS plugin called <b style="color: white;">pl-anon.sif</b>
        â–† ChRIS plugins are just like regular CLI apps, but you need to explicitly
          add an <b style="color: white;">input directory</b> and <b style="color: white;">output directory</b>
        â–† in conjunction with all the other CLI args the app might want

</pre>
</div>
'''

<slidebreak>
title:<tt>OK... this related to ChRIS, how?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%;">
So let's anonymize some data!
</pre>
</span>

<pre style="float:left; width 100%; font-size:200%; color:white;">
<em style = "color: red;"># let's assume you have a dir called leg-images in a data folder</em>
~$ <font style="color: green;">cd</font> ~/data
~/data$ <font style="color:green;">pl-anon.sif</font> dicom_headerEdit <b style="color: purple;">leg-images</b> <b style="color: cyan;">leg-images2</b> \
                   --fileFilter dcm                                                    \
                   --splitToken ","                                                    \
                   --splitKeyValue "="                                                 \
                   --tagInfo <font style="color:yellow;">'
                   PatientName         =  %_name|patientID_PatientName,
                   PatientID           =  %_md5|7_PatientID,
                   AccessionNumber     =  %_md5|8_AccessionNumber,
                   PatientBirthDate    =  %_strmsk|******01_PatientBirthDate,
                   re:.*hysician       =  %_md5|4_#tag,
                   re:.*stitution      =  #tag,
                   re:.*ddress         =  #tag
               '</font> --threads 0 --printElapsedTime

</pre>


</div>
'''

<slidebreak>
title:<tt>OK... this related to ChRIS, how?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%; color: white;">
Ah. Ok. So how do I run something <em>inside</em> ChRIS?

</pre>
</span>

<pre id="typewriter" style="font-size:200%; float:left; width: 100%">
        â–† First, we need to <em style="color: white;">import</em> the data into ChRIS.
        â–† Then, we can <em style="color: yellow;">instruct</em> ChRIS to run some app for us:
            â–† via CLI;
            â–† or via the GUI.
        â–† Optionally, we can <em style="color: white;">pull</em> resultant data out of ChRIS.


</pre>
</div>
'''

<slidebreak>
title:<tt>OK... this related to ChRIS, how?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%; color: white;">
Let's upload that data via CLI using <b style="color: cyan;">chrs</b>

</pre>
</span>

<pre id=typewriter style="float:left; width 100%; font-size:200%; color:white";>
<em style = "color: red;"># let's assume you have a dir called leg-images in a data folder</em>
~$ <font style="color: green;">cd</font> ~/data
~/data$ chrs <font style="color:purple;">login --address http://cube-next.tch.harvard.edu/api/v1/ \
                   --username rudolph.pienaar --password XXXXXXX</font>
~/data$ feed=<font style="color: purple;">$(</font><font style="color: green;">chrs</font> upload --path="upload-$(date +%s)" --feed <font style="color:yellow;">"leg images"</font> leg-images<font style="color:purple;">)</font>
~/data$ pid=<font style="color: purple;">$(</font><font style="color: green;">chrs</font> get ${feed}plugininstances/ | <font style="color:green;">jq<font> -r <font style=color:yellow;">'.results[-1].id'</font><font style="color:purple;">)</font>

</pre>
</div>
'''

<slidebreak>
title:<tt>OK... this related to ChRIS, how?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%; color: white;">
Let's upload that data via CLI using <b style="color: cyan;">chrs</b>

</pre>
</span>

<pre style="float:left; width 100%; font-size:200%; color:white";>
<em style = "color: red;"># let's assume you have a dir called leg-images in a data folder</em>
~$ <font style="color: green;">cd</font> ~/data
~/data$ chrs <font style="color:purple;">login --address http://cube-next.tch.harvard.edu/api/v1/ \
                   --username rudolph.pienaar --password XXXXXXX</font>
~/data$ feed=<font style="color: purple;">$(</font><font style="color: green;">chrs</font> upload --path="upload-$(date +%s)" --feed <font style="color:yellow;">"leg images"</font> leg-images<font style="color:purple;">)</font>
~/data$ pid=<font style="color: purple;">$(</font><font style="color: green;">chrs</font> get ${feed}plugininstances/ | <font style="color:green;">jq<font> -r <font style=color:yellow;">'.results[-1].id'</font><font style="color:purple;">)</font>

</pre>
</div>
'''


<slidebreak>
title:<tt>OK... this related to ChRIS, how?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%; color: white;">
Now let's use <b style="color: cyan;">chrs</b> to tell <b style="color: yellow;">ChRIS</b> to run this.

</pre>
</span>

<pre id=typewriter style="float:left; width 100%; font-size:200%; color:white";>
<em style = "color: red;"># Ready? Steady... GO!</em>
~$ anon=<font style="color:purple;">$(</font><font style="color:green;">chrs</font> run-latest --compute-resource-name e2 --previous-id $pid \
                   pl-dicom_headeredit -- --fileFilter dcm \
                   --splitToken <font style="color:yellow;">","</font> \
                   --splitKeyValue <font style="color:yellow;">"="</font> \
                   --tagInfo <font style="color:yellow;">'
                   PatientName         =  %_name|patientID_PatientName,
                   PatientID           =  %_md5|7_PatientID,
                   AccessionNumber     =  %_md5|8_AccessionNumber,
                   PatientBirthDate    =  %_strmsk|******01_PatientBirthDate,
                   re:.*hysician       =  %_md5|4_#tag,
                   re:.*stitution      =  #tag,
                   re:.*ddress         =  #tag
               '</font> --threads 0 --printElapsedTime <font style="color:purple;">)</font>
~$ <font style="color:green;">chrs</font> download ${anon}/files/ anon
</pre>
</div>
'''

<slidebreak>
title:<tt>OK... this related to ChRIS, how?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<div>

<span style="width:100%; float: left;">
<pre style="font-size:300%; color: white;">
Now let's use <b style="color: cyan;">chrs</b> to tell <b style="color: yellow;">ChRIS</b> to run this.

</pre>
</span>

<pre  style="float:left; width 100%; font-size:200%; color:white";>
<em style = "color: red;"># Ready? Steady... GO!</em>
~$ anon=<font style="color:purple;">$(</font><font style="color:green;">chrs</font> run-latest --compute-resource-name e2 --previous-id $pid \
                   pl-dicom_headeredit -- --fileFilter dcm \
                   --splitToken <font style="color:yellow;">","</font> \
                   --splitKeyValue <font style="color:yellow;">"="</font> \
                   --tagInfo <font style="color:yellow;">'
                   PatientName         =  %_name|patientID_PatientName,
                   PatientID           =  %_md5|7_PatientID,
                   AccessionNumber     =  %_md5|8_AccessionNumber,
                   PatientBirthDate    =  %_strmsk|******01_PatientBirthDate,
                   re:.*hysician       =  %_md5|4_#tag,
                   re:.*stitution      =  #tag,
                   re:.*ddress         =  #tag
               '</font> --threads 0 --printElapsedTime <font style="color:purple;">)</font>
~$ <font style="color:green;">chrs</font> download ${anon}/files/ anon
</pre>
</div>
'''



<slidebreak>
title: <tt>End</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<pre>

_#_cowpy_random Thank you.

_#_font_doom Thank you.
</pre>

'''


<slidebreak>
title: <tt>?</tt>
body-style: "background: black; color:lightgreen;"
body:
'''
<pre>

_#_cowpy_random Questions..?

</pre>

'''


